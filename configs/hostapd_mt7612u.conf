# MT7612U Optimized hostapd Configuration
# Panda Wireless PAU09 / Similar MT7612U-based adapters
# Optimized for Raspberry Pi 5 with Kali Linux

#===============================================================================
# INTERFACE CONFIGURATION
#===============================================================================
interface=INTERFACE_PLACEHOLDER
driver=nl80211

# Bridge interface (if using bridge mode)
# bridge=br0

#===============================================================================
# BASIC AP SETTINGS
#===============================================================================
ssid=SSID_PLACEHOLDER
hw_mode=HW_MODE_PLACEHOLDER
channel=CHANNEL_PLACEHOLDER
country_code=US

# Maximum number of stations
max_num_sta=15

# Beacon interval (default 100ms)
beacon_int=100

# DTIM period
dtim_period=2

#===============================================================================
# SECURITY CONFIGURATION
#===============================================================================
# Authentication algorithms (1=open, 2=shared key, 3=both)
auth_algs=1

# Hide SSID (0=broadcast, 1=hidden)
ignore_broadcast_ssid=0

# WPA Configuration
wpa=2
wpa_passphrase=PASSWORD_PLACEHOLDER
wpa_key_mgmt=WPA-PSK

# For WPA3 support (if available)
# wpa_key_mgmt=WPA-PSK SAE
# ieee80211w=2
# sae_require_mfp=1

# WPA/WPA2 ciphers
wpa_pairwise=TKIP CCMP
rsn_pairwise=CCMP

# Group cipher
group_cipher=CCMP

#===============================================================================
# 802.11n CONFIGURATION (2.4GHz)
#===============================================================================
ieee80211n=1
wmm_enabled=1

# HT capabilities for MT7612U
# [HT40+] = 40MHz channel width (upper)
# [HT40-] = 40MHz channel width (lower) 
# [SHORT-GI-20] = Short Guard Interval for 20MHz
# [SHORT-GI-40] = Short Guard Interval for 40MHz
# [TX-STBC] = Transmit Space-Time Block Coding
# [RX-STBC1] = Receive STBC (1 spatial stream)
# [LDPC] = Low Density Parity Check
ht_capab=[HT40+][HT40-][SHORT-GI-20][SHORT-GI-40][TX-STBC][RX-STBC1][LDPC][MAX-AMSDU-7935]

# Require HT (802.11n)
require_ht=1

#===============================================================================
# 802.11ac CONFIGURATION (5GHz)
#===============================================================================
ieee80211ac=1

# VHT capabilities for MT7612U 5GHz
# [MAX-MPDU-11454] = Maximum MPDU length
# [RXLDPC] = RX LDPC coding capability
# [SHORT-GI-80] = Short Guard Interval for 80MHz
# [TX-STBC-2BY1] = TX STBC 2x1
# [RX-STBC-1] = RX STBC 1 spatial stream
# [MAX-A-MPDU-LEN-EXP7] = Maximum A-MPDU length exponent
vht_capab=[MAX-MPDU-11454][RXLDPC][SHORT-GI-80][TX-STBC-2BY1][RX-STBC-1][MAX-A-MPDU-LEN-EXP7]

# VHT operating mode
vht_oper_chwidth=1
vht_oper_centr_freq_seg0_idx=42

# Require VHT (802.11ac) when using 5GHz
# require_vht=1

#===============================================================================
# SECURITY ENHANCEMENTS
#===============================================================================
# AP isolation (prevent client-to-client communication)
ap_isolate=1

# Disassociate stations based on excessive transmission failures
disassoc_low_ack=1

# Maximum inactivity time (seconds)
ap_max_inactivity=300

# Skip inactivity polling
skip_inactivity_poll=0

# Station MAC address-based authentication
# macaddr_acl=0  # 0=accept unless in deny list, 1=deny unless in accept list, 2=use external RADIUS

# MAC address access control lists (optional)
# accept_mac_file=/etc/hostapd/hostapd.accept
# deny_mac_file=/etc/hostapd/hostapd.deny

#===============================================================================
# PERFORMANCE OPTIMIZATION
#===============================================================================
# WMM (Wi-Fi Multimedia) settings
wmm_enabled=1
uapsd_advertisement_enabled=1

# TX queue parameters
tx_queue_data3_aifs=7
tx_queue_data3_cwmin=15
tx_queue_data3_cwmax=1023
tx_queue_data3_burst=0

tx_queue_data2_aifs=3
tx_queue_data2_cwmin=7
tx_queue_data2_cwmax=15
tx_queue_data2_burst=0

tx_queue_data1_aifs=1
tx_queue_data1_cwmin=3
tx_queue_data1_cwmax=7
tx_queue_data1_burst=0

tx_queue_data0_aifs=1
tx_queue_data0_cwmin=2
tx_queue_data0_cwmax=3
tx_queue_data0_burst=0

# WMM AC parameters
wmm_ac_bk_cwmin=4
wmm_ac_bk_cwmax=10
wmm_ac_bk_aifs=7
wmm_ac_bk_txop_limit=0

wmm_ac_be_aifs=3
wmm_ac_be_cwmin=4
wmm_ac_be_cwmax=10
wmm_ac_be_txop_limit=0

wmm_ac_vi_aifs=2
wmm_ac_vi_cwmin=3
wmm_ac_vi_cwmax=4
wmm_ac_vi_txop_limit=94

wmm_ac_vo_aifs=2
wmm_ac_vo_cwmin=2
wmm_ac_vo_cwmax=3
wmm_ac_vo_txop_limit=47

#===============================================================================
# MT7612U SPECIFIC OPTIMIZATIONS
#===============================================================================
# Fragment threshold
fragm_threshold=2346

# RTS threshold
rts_threshold=2347

# Preamble (0=long, 1=short)
preamble=1

# Short slot time (0=long, 1=short)
short_slot_time=1

# Basic rates (in 100 kbps)
basic_rates=60 120 240

# Supported rates (in 100 kbps)
supported_rates=60 90 120 180 240 360 480 540

#===============================================================================
# POWER MANAGEMENT
#===============================================================================
# Power constraint (dBm)
local_pwr_constraint=3

# Spectrum management
spectrum_mgmt_required=0

# Power capability
pwr_constraint=0

#===============================================================================
# LOGGING CONFIGURATION
#===============================================================================
# Logging level (0=verbose, 1=debug, 2=info, 3=notice, 4=warning)
logger_syslog=-1
logger_syslog_level=2
logger_stdout=-1
logger_stdout_level=2

# Control interface
ctrl_interface=/var/run/hostapd
ctrl_interface_group=0

#===============================================================================
# ADVANCED FEATURES
#===============================================================================
# Enable WPS (Wi-Fi Protected Setup) - DISABLED for security
# wps_state=2
# device_name=RPi5-SecureRouter
# manufacturer=Raspberry Pi Foundation
# model_name=Raspberry Pi 5
# model_number=Pi5
# serial_number=12345
# device_type=6-0050F204-1
# config_methods=label display external_nfc_token integrated_nfc_token push_button keypad virtual_display physical_display virtual_push_button physical_push_button

# Fast BSS transition (802.11r) - Experimental
# mobility_domain=a1b2
# r0_key_lifetime=10000
# r1_key_holder=000102030405
# reassociation_deadline=1000
# r0kh=02:00:00:00:03:00 r0kh-1.example.com 100102030405060708090a0b0c0d0e0f
# r1kh=02:00:00:00:04:00 00:01:02:03:04:06 200102030405060708090a0b0c0d0e0f

# Hotspot 2.0 / Passpoint - Disabled for simplicity
# interworking=1
# access_network_type=0
# internet=1
# asra=0
# esr=0
# uesa=0

#===============================================================================
# EXPERIMENTAL FEATURES (commented out by default)
#===============================================================================
# Multi-AP support
# multi_ap=0

# HE (802.11ax) support - if kernel/driver supports it
# ieee80211ax=1
# he_su_beamformer=1
# he_su_beamformee=1
# he_mu_beamformer=1

# BSS coloring (802.11ax)
# he_bss_color=1

# Spatial reuse (802.11ax)
# he_default_pe_duration=4
# he_twt_required=0

